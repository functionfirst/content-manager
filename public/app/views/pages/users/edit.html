<div class="content text-center" ng-if="main.user.admin">
	<a href="/admin/users">Users</a> &bull;
	<a href="/admin/pages">Pages</a>
</div>

<div class="content" ng-if="main.user.admin">
	<ul class="breadcrumb">
		<li><a href="/users">Users</a></li>
		<li class="active">Edit User</li>
	</ul>

	<div class="row">
		<div class="col-sm-3">
			<div ng-if="user.image">
				<a class="avatar" href="#" ng-model="image" ngf-select ngf-change="upload($files)" ngf-capture="'camera'" accept="'image/*'">
					<div class="avatar-button">
						<span class="glyphicon glyphicon-picture"></span>
						<small>Change profile photo</small>
					</div>

					<img ng-src="{{user.image}}" class="img-responsive" />
				</a>

				<button class="btn btn-link btn-block btn-sm" ng-if="user.image" ng-click="removeAvatar()" type="button">remove</button>
			</div>
			<div ng-if="!user.image">
				<a class="avatar" href="#" ng-model="image" ngf-select ngf-change="upload($files)" ngf-capture="'camera'" accept="'image/*'">
					<div>
						<span class="glyphicon glyphicon-picture"></span>
						<small>Upload a profile photo</small>
					</div>
				</a>
			</div>
		</div>

		<div class="col-sm-9">
			<form ng-submit="updateUser()">
				<div class="form-group">
					<label class="control-label">Name</label>
					<input type="text" class="form-control" ng-model="user.name" placeholder="Enter the users name"  ng-disabled="user.blocked" required>
				</div>

				<div class="form-group">
					<label class="control-label">Email</label>
					
					<div class="form-control-static">
						{{ user.username }}
					</div>
				</div>

				<div class="form-group">
					<label class="control-label">Password</label>
					<input type="password" class="form-control" ng-model="user.password" ng-disabled="user.blocked">
				</div>

				<div class="form-group">
					<button type="button" class="btn btn-link text-danger pull-right" ng-if="!user.blocked" ng-click="toggleBlock(true)"><span class="text-danger"><span class="glyphicon glyphicon-remove"></span> Block this User</span></button>

					<button type="button" class="btn btn-link pull-right" ng-if="user.blocked" ng-click="toggleBlock(false)"><span class="text-success"><span class="glyphicon glyphicon-ok"></span> Unblock this User</span></button>

					<button type="submit" class="btn btn-default" ng-disabled="user.blocked">Update User</button>
				</div>
			</form>
		</div>
	</div>
</div>